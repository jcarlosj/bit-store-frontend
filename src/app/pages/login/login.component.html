<form
  class="form form-auth form-login"
  [formGroup]="formData"
  (ngSubmit)="handleLogin()"
  autocomplete="off"
>
    <h2>Login</h2>
        
    <div class="form-content">
        <div class="field">
            <label for="login-email">Email</label>
            <input
                id="login-email"
                class="input input-field"
                type="email"
                formControlName="username"
                placeholder="Ingrese su Email"
            />
            <div
                *ngIf="formData.get( 'email' )?.invalid && ( formData.get( 'email' )?.dirty || formData.get( 'email' )?.touched )"
                class="error-message"
            >
                <!--
                    formData.get( 'email' )?.invalid verifica si el campo de email es inválido.
                    formData.get( 'email' )?.dirty comprueba si el campo de email ha sido modificado.
                    formData.get( 'email' )?.touched verifica si el campo de email ha sido tocado.
                -->
        
                <small *ngIf="formData.get( 'email' )?.errors?.[ 'required' ]">
                    Email es requerido.
                </small>
                <small *ngIf="formData.get( 'email' )?.errors?.[ 'pattern' ]">
                    Por favor, introduzca un email válido.
                </small>
            </div>
        </div>
        <div class="field">
            <label for="login-password">Password</label>
            <input
                id="login-password"
                class="input input-field"
                type="password"
                formControlName="password"
                placeholder="Ingrese su Password"
            />
            <div
                *ngIf="formData.get( 'password' )?.invalid && ( formData.get( 'password' )?.dirty || formData.get( 'password' )?.touched )"
                class="error-message"
            >
                <small *ngIf="formData.get( 'password' )?.errors?.[ 'required' ]">
                    Contraseña es requerida.
                </small>
                <small
                    *ngIf="formData.get( 'password' )?.errors?.[ 'pattern' ]"
                >
                    La contraseña debe tener al menos 8 caracteres y contener al menos 1 número, 1 mayúscula 1 carácter especial.
                </small>
            </div>
        </div>
        <div class="field">
            <button
                class="btn btn-primary button"
                type="submit"
                [disabled]="this.formData.invalid"
            >Ingresar</button>
        </div>
        <div class="field">
            <!-- Imprime mensaje -->
            <div [class]="classMessage">
                {{ message }}
            </div>
        </div>
        <div class="field footer-form">
            <p>¿No tienes cuenta?</p>
            <p>Crea una <a routerLink="/auth/register">aquí</a></p>
        </div>
    
        <div class="errors">
            <h3 class="title-errors">Errors</h3>
            <pre class="error">{{ formData.get( 'email' )?.errors | json }}</pre>
            <pre class="error">{{ formData.get( 'password' )?.errors | json }}</pre>
        </div>
    </div>
</form>