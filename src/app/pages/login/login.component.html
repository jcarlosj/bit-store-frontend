<form
  class="form form-auth form-login"
  [formGroup]="formData"
  (ngSubmit)="handleLogin()"
  autocomplete="off"
>
    <h2>Login</h2>
        
    <div class="form-content">
        <div class="field">
            <label for="login-email">Email</label>
            <input
                id="login-email"
                class="input input-field"
                type="email"
                formControlName="username"
                placeholder="Ingrese su Email"
            />
            
			<div class="error-message">
				<!-- Despliega los mensajes de error del campo -->
				<div *ngIf="formData.get( 'username' )?.invalid && ( formData.get( 'username' )?.touched || formData.get( 'username' )?.dirty )">
					<small *ngIf="formData.get( 'username' )?.errors?.[ 'required' ]">
						El username es requerido
					</small>
					<small *ngIf="formData.get( 'username' )?.errors?.[ 'email' ]">
						El username debe ser un correo electronico
					</small>
				</div>
			</div>

        </div>
        <div class="field">
            <label for="login-password">Password</label>
            <input
                id="login-password"
                class="input input-field"
                type="password"
                formControlName="password"
                placeholder="Ingrese su Password"
            />
            <!-- Despliega los mensajes de error del campo -->
			<div class="error-message">
				<div *ngIf="formData.get( 'password' )?.invalid && ( formData.get( 'password' )?.touched || formData.get( 'password' )?.dirty )">
					<small *ngIf="formData.get( 'password' )?.errors?.[ 'required' ]">
						Contraseña requerida
					</small>
					<small *ngIf="formData.get( 'password' )?.errors?.[ 'min' ]">
						La contraseña debe tener minimo 6 caracteres.
					</small>
					<small *ngIf="formData.get( 'password' )?.errors?.[ 'max' ]">
						La contraseña debe tener maximo 12 caracteres.
					</small>
				</div>
			</div>

        </div>
        <div class="field">
            <button
                class="btn btn-primary button"
                type="submit"
                [disabled]="this.formData.invalid"
            >Ingresar</button>
        </div>
        <div class="field">
            <!-- Imprime mensaje -->
            <div [class]="classMessage">
                {{ message }}
            </div>
        </div>
        <div class="field footer-form">
            <p>¿No tienes cuenta?</p>
            <p>Crea una <a routerLink="/auth/register">aquí</a></p>
        </div>
    
        <div class="errors">
            <h3 class="title-errors">Errors</h3>
            <pre class="error">{{ formData.get( 'email' )?.errors | json }}</pre>
            <pre class="error">{{ formData.get( 'password' )?.errors | json }}</pre>
        </div>
    </div>
</form>