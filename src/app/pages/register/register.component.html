<!-- Paso 3 (Reactive Forms): Vincular los campos agrupados al formulario usando la directiva -> [formGroup]="formData" -->
<!-- Paso 4 (Reactive Forms): Obtener datos del formulario invocando el metodo onSumbit a traves del evento -> (ngSubmit)="onSubmit()" -->
<form
  [formGroup]="formData"
  (ngSubmit)="handleSubmit()"
  class="form form-auth form-login"
  autocomplete="off"
>
	<h2>Registro</h2>

	<div class="form-content">
		<div class="field">
			<label for="register-name">Nombre</label>
			<input
				id="register-name"
				class="input input-field"
				type="text"
				formControlName="name"
				placeholder="Ingrese su Nombre"
			/>
			<div class="error-message">
				<div *ngIf="formData.get( 'name' )?.invalid && ( formData.get( 'name' )?.touched || formData.get( 'name' )?.dirty )">
					<small *ngIf="formData.get( 'name' )?.errors?.[ 'required' ]">
						El nombre del usuario es requerido
					</small>
				</div>
			</div>
			<!-- Despliega los mensajes de error del campo -->

		</div>
		<div class="field">
			<label for="register-email">Email</label>
			<input
				id="register-email"
				class="input input-field"
				type="email"
				formControlName="username"
				placeholder="Ingrese su Email"
			/>
			<div class="error-message">
				<!-- Despliega los mensajes de error del campo -->
				<div *ngIf="formData.get( 'username' )?.invalid && ( formData.get( 'username' )?.touched || formData.get( 'username' )?.dirty )">
					<small *ngIf="formData.get( 'username' )?.errors?.[ 'required' ]">
						El username es requerido
					</small>
					<small *ngIf="formData.get( 'username' )?.errors?.[ 'email' ]">
						El username debe ser un correo electronico
					</small>
				</div>
			</div>
		
		</div>
		<div class="field">
			<label for="register-password">Password</label>
			<input
				id="register-password"
				class="input input-field"
				type="password"
				formControlName="password"
				placeholder="Ingrese su Password"
			/>
			<!-- Despliega los mensajes de error del campo -->
			<div class="error-message">
				<div *ngIf="formData.get( 'password' )?.invalid && ( formData.get( 'password' )?.touched || formData.get( 'password' )?.dirty )">
					<small *ngIf="formData.get( 'password' )?.errors?.[ 'required' ]">
						Contraseña requerida
					</small>
					<small *ngIf="formData.get( 'password' )?.errors?.[ 'min' ]">
						La contraseña debe tener minimo 6 caracteres.
					</small>
					<small *ngIf="formData.get( 'password' )?.errors?.[ 'max' ]">
						La contraseña debe tener maximo 12 caracteres.
					</small>
				</div>
			</div>
		</div>
		<!-- Imprime mensaje -->
		<div class="field">
			<div [class]="classMessage">
				{{ message }}
			</div>
		</div>
		<div class="field">
			<button
				class="btn btn-primary button"
				type="submit"
				[disabled]="formData.invalid"
			>Registrarse</button>
		</div>
		<div class="field footer-form">
			<p>¿Ya tienes cuenta?</p>
			<p>Ingresa <a routerLink="/auth/login">aquí</a></p>
		</div>
	
		<div class="errors">
			<h3 class="title-errors">Errors</h3>
			<pre class="error">name {{ formData.get( 'name' )?.errors | json }}</pre>
			<pre class="error">username {{ formData.get( 'username' )?.errors | json }}</pre>
			<pre class="error">password {{ formData.get( 'password' )?.errors | json }}</pre>
		</div>
	</div>

</form>